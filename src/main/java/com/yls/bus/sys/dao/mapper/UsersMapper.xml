<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yls.bus.sys.dao.mapper.UsersMapper">
	<resultMap type="Users" id="usersMap">
		<id property="id" column="id" javaType="java.lang.String"></id>
		<result property="name" column="name" javaType="java.lang.String"></result>
		<result property="password" column="password" javaType="java.lang.String"></result>
	</resultMap>
		
	<insert id="add">
	insert into t_user values (#{id},#{name},#{password})
	</insert>
	
	<update id="update">
	update t_user set name=#{name},password=#{password} where id=#{id}
	</update>

	<delete id="delete">
	delete from t_user where id=#{id}
	</delete>
	
   	<delete id="deleteByIds">
	delete from t_user where id in (
	<foreach  collection="list" item="id" separator=","  >
	${id}
	</foreach>
	)
	</delete>
	
	<select id="getById" parameterType="int" resultMap="usersMap">
	select *　from t_user where id=#{id}
	</select>
	
	<select id="getByName" parameterType="String" resultMap="usersMap">
	select *　from t_user where name=#{name}
	</select>
	
	<!-- 分頁查詢 -->
	<!-- oracle
	<select  id="getPage" parameterType="java.util.Map"  resultMap="usersMap">
		select *  from ( select  t.* , rownum as  num  from   ( select * from users )  t
		<where> 
		<![CDATA[rownum <= #{endRow}]]> 
		</where>
		) 
		<where>
		<![CDATA[num > #{startRow}]]> 
		</where>
	</select>
	-->
	<!-- 统计总数 -->
	<select id="count" resultType="int">
	select  count(*) from t_user
	</select>
	
</mapper>